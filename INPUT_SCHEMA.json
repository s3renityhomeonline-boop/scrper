{
  "title": "CarGurus Stealth Scraper Input",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "filterUrl": {
      "title": "Filter URL (WITHOUT searchId)",
      "type": "string",
      "description": "CarGurus URL with filters applied. Remove the 'searchId' parameter - it will be generated dynamically each run.",
      "default": "https://www.cargurus.ca/Cars/inventorylisting/viewDetailsFilterViewInventoryListing.action?bodyTypeGroupIds=7&bodyTypeGroupIds=5&zip=H3H&distance=100&sourceContext=untrackedWithinSite_false_0&adBodyTypeGroupNames=crossover&sortDir=ASC&sortType=DEAL_SCORE&srpVariation=DEFAULT_SEARCH&isDeliveryEnabled=true&nonShippableBaseline=0&entitySelectingHelper.selectedEntity=m2&makeModelTrimPaths=m2&makeModelTrimPaths=m26&makeModelTrimPaths=m1&makeModelTrimPaths=m7&makeModelTrimPaths=m22&makeModelTrimPaths=m191&makeModelTrimPaths=m32&maxMileage=140000&minPrice=35000",
      "editor": "textfield"
    },
    "currentPage": {
      "title": "Current Page (optional)",
      "type": "integer",
      "description": "Manually set which page to scrape. Leave empty for auto-resume.",
      "editor": "number",
      "nullable": true
    },
    "maxPages": {
      "title": "Max Pages",
      "type": "integer",
      "description": "Maximum number of pages to scrape (safety limit)",
      "default": 73,
      "minimum": 1
    },
    "maxResults": {
      "title": "Cars Per Page",
      "type": "integer",
      "description": "How many cars to scrape from each page (typically 24)",
      "default": 24,
      "minimum": 1,
      "maximum": 50
    },
    "proxyConfiguration": {
      "title": "Proxy Configuration",
      "type": "object",
      "description": "Proxy settings (REQUIRED for stealth - use Canadian residential proxies)",
      "editor": "proxy",
      "default": {
        "useApifyProxy": true,
        "apifyProxyGroups": ["RESIDENTIAL"],
        "apifyProxyCountry": "CA"
      }
    }
  },
  "required": ["filterUrl"]
}
